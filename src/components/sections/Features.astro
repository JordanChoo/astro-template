---
/**
 * Features Section Component
 *
 * Grid display of feature cards with icons.
 * Responsive: 1 column on mobile, 2 on tablet, 3 on desktop.
 *
 * @example
 * ```astro
 * <Features
 *   features={[
 *     { icon: "shield", title: "Secure", description: "Your data is safe" },
 *     { icon: "clock", title: "Fast", description: "Quick turnaround" }
 *   ]}
 * />
 * ```
 */

import { getIcon } from '../icons/index';

export interface FeatureItem {
  /** Icon key from the icon library */
  icon: string;
  /** Feature title */
  title: string;
  /** Feature description */
  description: string;
}

export interface Props {
  /** Array of feature items to display */
  features: FeatureItem[];
}

const { features } = Astro.props;
---

<section class="py-16 sm:py-20 lg:py-24 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12 lg:mb-16">
      <h2 class="text-3xl sm:text-4xl font-bold text-neutral-900 mb-4">Why Choose Us</h2>
      <p class="text-lg text-neutral-600 max-w-2xl mx-auto">
        We deliver exceptional results through expertise, dedication, and innovative solutions.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {
        features.map((feature) => {
          const iconDef = getIcon(feature.icon);
          return (
            <div class="relative p-6 bg-neutral-50 rounded-xl hover:bg-primary-50 transition-colors group">
              <div class="w-14 h-14 bg-primary-100 rounded-xl flex items-center justify-center mb-5 group-hover:bg-primary-200 transition-colors">
                {iconDef ? (
                  <svg
                    class="w-7 h-7 text-primary-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap={iconDef.strokeLinecap || 'round'}
                      stroke-linejoin={iconDef.strokeLinejoin || 'round'}
                      d={iconDef.path}
                    />
                    {iconDef.path2 && (
                      <path
                        stroke-linecap={iconDef.strokeLinecap || 'round'}
                        stroke-linejoin={iconDef.strokeLinejoin || 'round'}
                        d={iconDef.path2}
                      />
                    )}
                  </svg>
                ) : (
                  <svg
                    class="w-7 h-7 text-primary-600"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"
                    />
                  </svg>
                )}
              </div>
              <h3 class="text-xl font-semibold text-neutral-900 mb-3">{feature.title}</h3>
              <p class="text-neutral-600 leading-relaxed">{feature.description}</p>
            </div>
          );
        })
      }
    </div>
  </div>
</section>
